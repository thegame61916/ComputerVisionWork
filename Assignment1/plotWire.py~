import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import numpy as np

img=mpimg.imread('IMG_5455.JPG')
imgplot = plt.imshow(img)

P = [[ -3.74192548e-03,  -7.09352321e-04,  -2.08639185e-03,   9.11534249e-01],				#DLT
 [ -1.19471698e-04,  -4.38859509e-03,   6.67848748e-04,   4.11177210e-01],
 [  1.03536464e-07,  -2.21616919e-07,  -3.72293950e-07,   1.90809706e-04]]
 
P = [[  3.96173182e-03,   3.11538970e-04,   1.86238666e-03,  -9.13153168e-01],				#Ransac
 [  1.87708116e-04,   4.24084506e-03,  -8.65777998e-04,  -4.07569902e-01],
 [ -7.63671423e-08,   1.19359844e-07,   3.05929301e-07,  -1.89856060e-04]]
 
#all world points for provided image 
X = [[[0, 72, 0], [36, 72, 0], [72, 72, 0], [108, 72, 0], [144, 72, 0], [180, 72, 0], [216, 72, 0]],
[[0, 36, 0], [36, 36, 0], [72, 36, 0], [108, 36, 0], [144, 36, 0], [180, 36, 0], [216, 36, 0]],
[[0, 0, 0], [36, 0, 0], [72, 0, 0], [108, 0, 0], [144, 0, 0], [180, 0, 0], [216, 0, 0]],
[[0, 0, 36], [36, 0, 36], [72, 0, 36], [108, 0, 36], [144, 0, 36], [180, 0, 36], [216, 0, 36]],
[[0, 0, 72], [36, 0, 72], [72, 0, 72], [108, 0, 72], [144, 0, 72], [180, 0, 72]],
[[0, 0, 108], [36, 0, 108], [72, 0, 108], [108, 0, 108], [144, 0, 108], [180, 0, 108]],
[[0, 0, 144], [36, 0, 144], [72, 0, 144], [108, 0, 144], [144, 0, 144]],
[[0, 72, 0], [0, 36, 0], [0 ,0 ,0], [0 ,0, 36], [0 ,0, 72], [0 ,0, 108]]]


for i in X:
	for j in i:
		y = np.dot(P, j + [1])
		plt.plot(y[0]/y[2], y[1]/y[2], 'ro');

plt.show()
